---
title: "Writing markdown"
date: 2025-03-13T07:00:10Z
---

Every `.md` file under the `content/` directory corresponds to one page.

Right now, there's only a single page:

```term
<i class="b fg-cyn">~/bearcove/home-from-scratch</i>
<i class="b fg-grn">❯</i> <i class="b u fg-blu">ls </i><i class="b u fg-cyn">content/</i>
_index.md  <i class="b fg-blu">templates</i>
```

And it's pretty simple:

```markdown
---
title: "A new home site"
date: "1969-07-20T20:17:00Z"
---

# It's empty in here

_So many_ possibilities though!
```

## The frontmatter

Every markdown page _must_ start with a frontmatter block, delimited by `---`,
in YAML format.

   * You cannot use `+++`, it's used for other things
   * You cannot use TOML, had to pick one, sorry.

The schema is:

```rust
pub struct FrontmatterIn {
    /// Title of the page
    pub title: String,

    /// Jinja2 template to use for rendering — defaults to `page.html`
    pub template: Option<String>,

    /// Publication date in RFC3339 format, e.g. `2023-10-01T12:00:00Z` (UTC)
    pub date: Rfc3339<OffsetDateTime>,

    /// Last update date, if any
    pub updated_at: Option<Rfc3339<OffsetDateTime>>,

    /// If true, page is only visible by admins
    pub draft: Option<bool>,

    /// Whether the page should be excluded from search indexing
    pub archive: Option<bool>,

    /// Code used to allow access to a draft
    pub draft_code: Option<String>,

    /// Alternative routes for this page (for redirects)
    pub aliases: Option<Vec<Route>>,

    /// Tags associated with the page (useful for listings)
    pub tags: Option<Vec<String>>,

    /// Additional metadata for the page
    pub extra: Option<FrontmatterExtrasIn>,
}
```

The only mandatory fields are `title`, and `date`. The latter must be in
[RFC3339](https://en.wikipedia.org/wiki/ISO_8601#RFCs) format.

> `extra` fields are mostly used by templates on <https://fasterthanli.me> — they
> should be arbitrary "JSON values" but they're not right now. It's safe to ignore
> them.

## Markdown features

For this section, each paragraph is doubled so you can see their sources.

```markdown
The markdown processor of `home` is based on
[pulldown-cmark](https://lib.rs/crates/pulldown-cmark),
with most features enabled.
```

The markdown processor of `home` is based on [pulldown-cmark](https://lib.rs/crates/pulldown-cmark),
with most features enabled.

```markdown
For example, it has "smart quotes", both double and 'single', as well as ~~strikethrough~~ formatting.
```

For example, it has "smart quotes", both double and 'single', as well as ~~strikethrough~~ formatting.

```markdown
It also supports inline math like $E = mc^2$ and block math:

$$
\frac{\partial f}{\partial x} = \lim_{h \to 0} \frac{f(x + h) - f(x)}{h}
$$

These are rendered using KaTeX.
```

It also supports inline math like $E = mc^2$ and block math:

$$
\frac{\partial f}{\partial x} = \lim_{h \to 0} \frac{f(x + h) - f(x)}{h}
$$

These are rendered using [pulldown-latex](https://lib.rs/crates/pulldown-latex),
which generates MathML.

The **Latin Modern Math** font is shipped within [home-base](https://github.com/bearcove/home-base)
and included by default in the `main.scss` generated by `home init`.

## Fenced code blocks

You can include code blocks with triple-backticks followed by the language.

As of home v33, the following languages are highlighted:

  * Assembly (`asm`, `x86asm`)
  * Bash (`bash`)
  * C/C++ (`c`, `cpp`)
  * Clojure (`clojure`)
  * Common Lisp (`commonlisp`)
  * CSS (`css`)
  * SCSS (`scss`)
  * Diff (`diff`)
  * Dockerfile
  * Emacs Lisp (`emacslisp`)
  * Go (`go`)
  * HTML (`html`)
  * INI (`meson-wrap`)
  * Java (`java`)
  * JavaScript (`javascript`, `js`)
  * Jinja (`jinja`)
  * JSON (`json`)
  * LaTeX (`latex`)
  * Markdown (`markdown`, `md`)
  * Meson (`meson`)
  * Nix (`nix`)
  * PowerShell (`pwsh`, `pwsh-script`)
  * Python (`python`)
  * Rust (`rust`)
  * Shell (`shell`)
  * TOML (`toml`)
  * TypeScript (`typescript`, `ts`)
  * TypeScript React (`tsx`)
  * XML (`xml`)
  * YAML (`yaml`, `yml`)
  * Zig (`zig`)

## Terminal sessions

The `home term` command captures a terminal session and writes a `term` block
to the pasteboard (and to disk).

Here's a demo with fastfetch:

```term
<i class="b fg-cyn">~</i>
<i class="b fg-grn">❯</i> <i class="fg-blu">fastfetch</i>
<i class="b fg-grn">                     ..'</i>          <i class="b fg-grn">amos</i>@<i class="b fg-grn">crepe</i>
<i class="b fg-grn">                 ,xNMM.</i>           ----------
<i class="b fg-grn">               .OMMMMo</i>            <i class="b fg-ylw">OS</i>: macOS Sequoia 15.3.2 arm64
<i class="b fg-grn">               lMM"</i>               <i class="b fg-ylw">Host</i>: MacBook Pro (13-inch, M2, 2022)
<i class="b fg-grn">     .;loddo:.  .olloddol;.</i>       <i class="b fg-ylw">Kernel</i>: Darwin 24.3.0
<i class="b fg-grn">   cKMMMMMMMMMMNWMMMMMMMMMM0:</i>     <i class="b fg-ylw">Uptime</i>: 21 hours, 45 mins
<i class="b fg-grn"> </i><i class="b fg-ylw">.KMMMMMMMMMMMMMMMMMMMMMMMWd.</i>     <i class="b fg-ylw">Packages</i>: 248 (brew), 8 (brew-cask)
<i class="b fg-ylw"> XMMMMMMMMMMMMMMMMMMMMMMMX.</i>       <i class="b fg-ylw">Shell</i>: fish 4.0.1
<i class="b fg-red">;MMMMMMMMMMMMMMMMMMMMMMMM:</i>        <i class="b fg-ylw">Display (Color LCD)</i>: 2560x1600 @ 60 Hz (as 1280x800) in 13" [Built-in]
<i class="b fg-red">:MMMMMMMMMMMMMMMMMMMMMMMM:</i>        <i class="b fg-ylw">DE</i>: Aqua
<i class="b fg-red">.MMMMMMMMMMMMMMMMMMMMMMMMX.</i>       <i class="b fg-ylw">WM</i>: Quartz Compositor 278.2.7
<i class="b fg-red"> kMMMMMMMMMMMMMMMMMMMMMMMMWd.</i>     <i class="b fg-ylw">WM Theme</i>: Multicolor (Light)
<i class="b fg-red"> </i><i class="b fg-mag">'XMMMMMMMMMMMMMMMMMMMMMMMMMMk</i>    <i class="b fg-ylw">Font</i>: .AppleSystemUIFont [System], Helvetica [User]
<i class="b fg-mag">  'XMMMMMMMMMMMMMMMMMMMMMMMMK.</i>    <i class="b fg-ylw">Cursor</i>: Fill - Black, Outline - White (32px)
<i class="b fg-mag">    </i><i class="b fg-blu">kMMMMMMMMMMMMMMMMMMMMMMd</i>      <i class="b fg-ylw">Terminal</i>: home
<i class="b fg-blu">     ;KMMMMMMMWXXWMMMMMMMk.</i>       <i class="b fg-ylw">CPU</i>: Apple M2 (8) @ 3.50 GHz
<i class="b fg-blu">       "cooc*"    "*coo'"</i>         <i class="b fg-ylw">GPU</i>: Apple M2 (10) @ 1.40 GHz [Integrated]
                                  <i class="b fg-ylw">Memory</i>: 6.45 GiB / 8.00 GiB (<i class="fg-lred">81%</i>)
                                  <i class="b fg-ylw">Swap</i>: 383.56 MiB / 2.00 GiB (<i class="fg-grn">19%</i>)
                                  <i class="b fg-ylw">Disk (/)</i>: 410.83 GiB / 460.43 GiB (<i class="fg-lred">89%</i>) - apfs [Read-only]
                                  <i class="b fg-ylw">Local IP (en0)</i>: 192.168.1.85/24
                                  <i class="b fg-ylw">Battery (bq20z451)</i>: <i class="fg-grn">78%</i> (6 hours, 32 mins remaining) [Discharging]
                                  <i class="b fg-ylw">Locale</i>: en_US.UTF-8



```

From the recorder's perspective, it looks like:


+++
:media:
    src: fastfetch-home-term@2x.jxl
    alt: |
        A screenshot of Ghostty showing the home term command, then the fast fetch command, and then getting out of there. It says that it wrote output to the macOS scriptboard and to /tmp/terminus-output
+++

## Inserting media

Images, SVG diagrams, and videos can be dragged onto a home site viewed locally:

+++
:figure:
    src: dragging-media@2x.mp4
    title: |
        Inserting videos works almost the same except the video is transcoded before you're able to insert it.
    alt: |
        A video showing how you can drag media onto a web page that's a home site in development.
+++

If you specify a `title`, `attribution`, or `attribution_link`, then it's
inserted as a `figure` shortcode, rather than a `media` shortcode.
